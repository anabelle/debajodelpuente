"use strict";$(document).ready(function(a){function t(){for(var t=u.length-1;t>=0;t--)a("#reticula .row").append('<div class="col-xs-12 col-sm-6 col-md-3 proyecto"><div class="efecto"><img src="'+u[t].img+'"><div class="overlay"><a class="verproyecto" href="'+u[t].link+'">ver proyecto</a></div></div><a href="'+u[t].link+'"><h4>'+u[t].palabra+"</h4><p>"+u[t].desc+"</p></a></div>")}function e(){function t(){if(e>=u.length){e=0}else;var o=".palabra_"+[e];e+=1,a(o).css("background","orange"),setTimeout(function(){a(o).css("background","white")},500),setTimeout(t,3e3)}var e=0;t()}function o(t,e){var o=a("#words");o.append("<table></table>");for(var i=0;i<e;i++)o.children("table").append("<tr>");a("tr").each(function(){for(var e=0;e<t;e++)a(this).append("<td></td>")})}function i(){for(var t=0,o=0,i=0;i<u.length;i++)if(console.log(u[i].orientacion),t=u[i].palabra.length,"h"===u[i].orientacion){console.log("ubicando h"),a(".posible_h").removeClass("posible_h"),a("tr").each(function(){a(this).children("td:empty").each(function(){o=a(this).nextUntil(":not(:empty)").addBack().length,o>=t&&a(this).addClass("posible_h")})});for(var l=s(a(".posible_h")).slice(0,1),d=null,h=0;h<t;h++)null===d?(l.removeClass().text(u[i].palabra[h]).addClass("palabra_"+i).data("link",u[i].link),d=l):(d.next().removeClass().addClass("palabra_"+i).text(u[i].palabra[h]).data("link",u[i].link),d=d.next())}else if("v"===u[i].orientacion){console.log("ubicando v");for(var o=0,b=-1,v=!1,h=0;h<p;h++)o=0,b++,a("table tr > :nth-child("+(h+1)+")").each(function(e,i){c(a(i))?(v===!1&&b++,o++,v=!0,a(i).addClass("posible_v_"+b)):(o=0,v=!1),a(".posible_v_"+b).length>=t&&a(".posible_v_"+b).first().addClass("posible_v")});var f=s(a(".posible_v")).slice(0,1);a(".posible_v").removeClass();for(var d=null,h=0;h<t;h++)null===d?(f.text(u[i].palabra[h]).removeClass().addClass("palabra_"+i).data("link",u[i].link),d=f,console.log(n(d))):(n(d).removeClass().addClass("palabra_"+i).text(u[i].palabra[h]).data("link",u[i].link),d=n(d))}r(),setTimeout(e,2e3)}function l(){var a="abcdefghijklmnñopqrstuvwxyz",t=a.charAt(Math.floor(Math.random()*a.length));return t}function n(a){var t=a.index(),e=a.closest("tr").next().children().eq(t);return e}function r(){a("td:empty").each(function(){a(this).text(l())})}function c(t){return!a.trim(t.html())}function s(a){for(var t,e,o=a.length;o;)e=Math.floor(Math.random()*o--),t=a[o],a[o]=a[e],a[e]=t;return a}var p=17,d=17,u=[{palabra:"Bitácora",orientacion:"v",desc:"",link:"http://bitacora.debajodelpuente.com/",img:"../img/debajodelpuente.jpg"},{palabra:"PuentePalabra",orientacion:"v",desc:"",link:"http://palabras.debajodelpuente.com/",img:"../img/puentepalabra.jpg"},{palabra:"Rio",orientacion:"v",desc:"",link:"http://rio.debajodelpuente.com/",img:"../img/cuando-el-rio-suena.jpg"},{palabra:"Caricultura",orientacion:"v",desc:"",link:"http://caricultura.debajodelpuente.com/",img:"../img/caricultura.jpg"},{palabra:"Caretas",orientacion:"v",desc:" ",link:"https://youtu.be/Aqay6PV_BwY",img:"http://placehold.it/280x180"},{palabra:"Discordia",orientacion:"v",desc:" ",link:"https://youtu.be/1mPr3jwLCDQ",img:"http://placehold.it/280x180"},{palabra:"Teatro",orientacion:"v",desc:" ",link:"https://youtu.be/7TrF9Igrqu4",img:"http://placehold.it/280x180"},{palabra:"ZapatoLab",orientacion:"h",desc:"",link:"http://zapatolab.debajodelpuente.com/",img:"../img/zapatolab.jpg"},{palabra:"Radio",orientacion:"h",desc:"",link:"http://radio.debajodelpuente.com/",img:"http://placehold.it/280x180"},{palabra:"Arcabius",orientacion:"h",desc:" ",link:"https://youtu.be/UCoJUwnaBWU",img:"http://placehold.it/280x180"},{palabra:"Cerdos",orientacion:"h",desc:" ",link:"https://youtu.be/3KzbUTrbl1I",img:"http://placehold.it/280x180"},{palabra:"LogLines",orientacion:"h",desc:" ",link:"http://loglines.debajodelpuente.com/",img:"http://placehold.it/280x180"},{palabra:"Palomo",orientacion:"h",desc:" ",link:"https://youtu.be/4hDHDxjKXu0",img:"http://placehold.it/280x180"}];o(p,d),i(),t(),a("[class^='palabra_']").css({cursor:"pointer",transition:"all 0.5s ease-in-out"}),a("[class^='palabra_']").hover(function(){var t=a(this).attr("class").split("_")[1];a(".palabra_"+t).css({background:"green",color:"white"})},function(){var t=a(this).attr("class").split("_")[1];a(".palabra_"+t).css({background:"white",color:"black"})}),a("[class^='palabra_']").on("click",function(t){window.open(a(this).data("link"),"_blank")}),a(".vista_s").on("click",function(){a("#sopa").fadeOut("fast"),a("#reticula").fadeIn("slow")}),a(".vista_r").on("click",function(){a("#reticula").fadeOut("fast"),a("#sopa").slideDown()}),a("div.info2").click(function(){a("#informacion").slideToggle("slow,")}),a("div.info").click(function(){a("#informacion").slideToggle("slow,")})});