"use strict";$(document).ready(function(a){function o(){for(var o=u.length-1;o>=0;o--)a("#reticula .row").append('<div class="col-xs-12 col-sm-6 col-md-3 proyecto"><div class="efecto"><img src="'+u[o].img+'"><div class="overlay"><a class="verproyecto" href="'+u[o].link+'" target="_blank">ver proyecto</a></div></div><a href="'+u[o].link+'"><h4>'+u[o].palabra+"</h4><p>"+u[o].desc+"</p></a></div>")}function e(){function o(){if(e>=u.length){e=0}else;var i=".palabra_"+[e];e+=1,a(i).css("background","orange"),setTimeout(function(){a(i).css("background","white")},500),setTimeout(o,3e3)}var e=0;o()}function i(o,e){var i=a("#words");i.append("<table></table>");for(var n=0;n<e;n++)i.children("table").append("<tr>");a("tr").each(function(){for(var e=0;e<o;e++)a(this).append("<td></td>")})}function n(){for(var o=0,i=0,n=0;n<u.length;n++)if(console.log(u[n].orientacion),o=u[n].palabra.length,"h"===u[n].orientacion){console.log("ubicando h"),a(".posible_h").removeClass("posible_h"),a("tr").each(function(){a(this).children("td:empty").each(function(){i=a(this).nextUntil(":not(:empty)").addBack().length,i>=o&&a(this).addClass("posible_h")})});for(var t=s(a(".posible_h")).slice(0,1),p=null,b=0;b<o;b++)null===p?(t.removeClass().text(u[n].palabra[b]).addClass("palabra_"+n).data("link",u[n].link),p=t):(p.next().removeClass().addClass("palabra_"+n).text(u[n].palabra[b]).data("link",u[n].link),p=p.next())}else if("v"===u[n].orientacion){console.log("ubicando v");for(var i=0,h=-1,f=!1,b=0;b<d;b++)i=0,h++,a("table tr > :nth-child("+(b+1)+")").each(function(e,n){c(a(n))?(f===!1&&h++,i++,f=!0,a(n).addClass("posible_v_"+h)):(i=0,f=!1),a(".posible_v_"+h).length>=o&&a(".posible_v_"+h).first().addClass("posible_v")});var v=s(a(".posible_v")).slice(0,1);a(".posible_v").removeClass();for(var p=null,b=0;b<o;b++)null===p?(v.text(u[n].palabra[b]).removeClass().addClass("palabra_"+n).data("link",u[n].link),p=v,console.log(l(p))):(l(p).removeClass().addClass("palabra_"+n).text(u[n].palabra[b]).data("link",u[n].link),p=l(p))}r(),setTimeout(e,2e3)}function t(){var a="abcdefghijklmnñopqrstuvwxyz",o=a.charAt(Math.floor(Math.random()*a.length));return o}function l(a){var o=a.index(),e=a.closest("tr").next().children().eq(o);return e}function r(){a("td:empty").each(function(){a(this).text(t())})}function c(o){return!a.trim(o.html())}function s(a){for(var o,e,i=a.length;i;)e=Math.floor(Math.random()*i--),o=a[i],a[i]=a[e],a[e]=o;return a}var d=17,p=17,u=[{palabra:"Bitácora",orientacion:"v",desc:"",link:"http://bitacora.debajodelpuente.com/",img:"../img/debajodelpuente.jpg"},{palabra:"PuentePalabra",orientacion:"v",desc:"",link:"http://palabras.debajodelpuente.com/",img:"../img/puentepalabra.jpg"},{palabra:"Rio",orientacion:"v",desc:"",link:"http://rio.debajodelpuente.com/",img:"../img/cuando-el-rio-suena.jpg"},{palabra:"Caricultura",orientacion:"v",desc:"",link:"http://caricultura.debajodelpuente.com/",img:"../img/caricultura.jpg"},{palabra:"ZapatoLab",orientacion:"h",desc:"",link:"http://zapatolab.debajodelpuente.com/",img:"../img/zapatolab.jpg"},{palabra:"Radio",orientacion:"h",desc:"",link:"http://radio.debajodelpuente.com/",img:"../img/radio.jpg"},{palabra:"Miau",orientacion:"v",desc:" ",link:"https://drive.google.com/file/d/0B3Kr41kFa5cyNDlZcGFPT1cyMzA/view",img:"../img/puentemiau.jpg"},{palabra:"Loglines",orientacion:"v",desc:" ",link:"http://loglines.debajodelpuente.com/",img:"../img/loglines.jpg"}];i(d,p),n(),o(),a("[class^='palabra_']").css({cursor:"pointer",transition:"all 0.5s ease-in-out"}),a("[class^='palabra_']").hover(function(){var o=a(this).attr("class").split("_")[1];a(".palabra_"+o).css({background:"green",color:"white"})},function(){var o=a(this).attr("class").split("_")[1];a(".palabra_"+o).css({background:"white",color:"black"})}),a("[class^='palabra_']").on("click",function(o){window.open(a(this).data("link"),"_blank")}),a(".vista_s").on("click",function(){a("#sopa").fadeOut("fast"),a("#reticula").fadeIn("slow")}),a(".vista_r").on("click",function(){a("#reticula").fadeOut("fast"),a("#sopa").slideDown()}),a("div.info2").click(function(){a("#informacion").slideToggle("slow,")}),a("div.info").click(function(){a("#informacion").slideToggle("slow,")}),a(".iconm").on("click",function(){a(".iconn").removeClass("fondoi"),a(this).addClass("fondoi")}),a(".iconn").on("click",function(){a(".iconm").removeClass("fondoi"),a(this).addClass("fondoi")})});